(this.webpackJsonpwebcam=this.webpackJsonpwebcam||[]).push([[0],{114:function(e,t){},116:function(e,t){},124:function(e,t,n){},125:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(52),o=n.n(r),i=(n(63),n(64),n(1)),l=n(19),u=n(53),s=n.n(u),m=n(26),d=n.n(m),b=n(20),f=n(128),h=n(129);n(124),n(125);var j=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=(t[0],t[1]),r=Object(a.useState)(""),o=Object(i.a)(r,2),l=(o[0],o[1]),u=Object(a.useState)(""),s=Object(i.a)(u,2),m=(s[0],s[1]);return c.a.createElement("div",{className:"joinOuterContainer"},c.a.createElement("div",{className:"joinInnerContainer"},c.a.createElement("h1",{className:"heading"}," Video Call"),c.a.createElement("div",null,"   ",c.a.createElement("input",{placeholder:"Name",className:"joinInput",type:"text",onChange:function(e){return n(e.target.value)}})," "),c.a.createElement("div",null," ",c.a.createElement("input",{placeholder:"Create Room",className:"joinInput mt-20",type:"text",onChange:function(e){return l(e.target.value)}})," "),c.a.createElement("div",null," ",c.a.createElement("input",{placeholder:"Join Room",className:"joinInput mt-20",type:"text",onChange:function(e){return m(e.target.value)}})," "),c.a.createElement("td",{className:"sameer"},"  ",c.a.createElement("button",{className:"button mt-20",type:"submit"},"Create Room")),c.a.createElement("td",null," ",c.a.createElement("button",{className:"button mt-20",type:"submit"},"Join Room"))))};function g(){var e=Object(l.a)(["\n  border: 1px solid blue;\n  width: 50%;\n  height: 50%;\n"]);return g=function(){return e},e}function v(){var e=Object(l.a)(["\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return v=function(){return e},e}function p(){var e=Object(l.a)(["\n  display: flex;\n  width: 100%;\n"]);return p=function(){return e},e}var O=b.a.div(p()),E=b.a.div(v()),y=b.a.video(g());var w=function(){var e,t,n,r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],m=Object(a.useState)({}),b=Object(i.a)(m,2),g=b[0],v=b[1],p=Object(a.useState)(),w=Object(i.a)(p,2),C=w[0],S=w[1],k=Object(a.useState)(!1),I=Object(i.a)(k,2),N=I[0],x=I[1],R=Object(a.useState)(""),D=Object(i.a)(R,2),J=D[0],z=D[1],A=Object(a.useState)(),U=Object(i.a)(A,2),W=U[0],B=U[1],H=Object(a.useState)(!1),M=Object(i.a)(H,2),P=M[0],L=M[1],T=Object(a.useState)(!1),V=Object(i.a)(T,2),$=V[0],q=V[1],F=Object(a.useState)(!1),G=Object(i.a)(F,2),K=G[0],Q=G[1],X=Object(a.useRef)(),Y=Object(a.useRef)(),Z=Object(a.useRef)();return Object(a.useEffect)((function(){Z.current=s.a.connect("http://localhost:4040"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){S(e),X.current&&(X.current.srcObject=e)})),Z.current.on("yourID",(function(e){console.log("yourID=",e),u(e)})),Z.current.on("allUsers",(function(e){v(e)})),Z.current.on("hey",(function(e){x(!0),z(e.from),B(e.signal),q(!0)}))}),[]),console.log("hangup"+K),K&&Z.current.emit("disconnect",console.log("call disconnected")),C&&(e=c.a.createElement(y,{style:{zIndex:2,right:0,width:385,height:500,bottom:5,margin:5,background:"white"},playsInline:!0,muted:!0,ref:X,autoPlay:!0})),P&&(t=c.a.createElement(y,{style:{zIndex:1,bottom:0,minWidth:"100%",minHeight:"100%",background:"white"},playsInline:!0,ref:Y,autoPlay:!0})),N&&(n=c.a.createElement("div",null,c.a.createElement(h.a,{variant:"success",disabled:!0},J," is calling you"),c.a.createElement(h.a,{variant:"danger",onClick:function(){L(!0);var e=new d.a({initiator:!1,trickle:!0,stream:C});e.on("signal",(function(e){Z.current.emit("acceptCall",{signal:e,to:J})})),e.on("stream",(function(e){Y.current.srcObject=e})),e.signal(W)}},"Accept"))),c.a.createElement(E,null,c.a.createElement(j,null,"  "),e,t,c.a.createElement(O,null," ",Object.keys(g).map((function(e){return e===l?null:c.a.createElement(h.a,{variant:"success",onClick:function(){return function(e){var t=new d.a({initiator:!0,trickle:!1,stream:C});t.on("signal",(function(t){Z.current.emit("callUser",{userToCall:e,signalData:t,from:l})})),t.on("stream",(function(e){Y.current&&(Y.current.srcObject=e)})),Z.current.on("callAccepted",(function(e){L(!0),t.signal(e)}))}(e)}},"call")}))),c.a.createElement(O,null,$?n:c.a.createElement(h.a,{variant:"primary",disabled:!0},c.a.createElement(f.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Loading...")),c.a.createElement(h.a,{variant:"danger",onClick:function(){Q(!0)}},"Hangup"))};var C=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){e.exports=n(127)},63:function(e,t,n){},64:function(e,t,n){},90:function(e,t){}},[[58,1,2]]]);
//# sourceMappingURL=main.dbe0e362.chunk.js.map